var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _native=_interopRequireDefault(require("styled-components/native"));var _styledSystem=require("styled-system");var _customProps=require("../../../utils/customProps");var _Text=_interopRequireDefault(require("../Text"));var _useThemeProps=require("../../../hooks/useThemeProps");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/primitives/Image/index.tsx";var StyledImage=(0,_native.default)(_reactNative.Image)(_styledSystem.color,_styledSystem.space,_styledSystem.layout,_styledSystem.flexbox,_styledSystem.border,_styledSystem.position,_customProps.customPosition,_customProps.customBorder,_customProps.customBackground,_customProps.customOutline,_customProps.customShadow,_customProps.customExtra,_customProps.customLayout);var Image=function Image(_ref,ref){var source=_ref.source,props=(0,_objectWithoutProperties2.default)(_ref,["source"]);var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Image',props),alt=_usePropsResolution.alt,fallbackSource=_usePropsResolution.fallbackSource,ignoreFallback=_usePropsResolution.ignoreFallback,_alt=_usePropsResolution._alt,newProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["alt","fallbackSource","ignoreFallback","_alt"]);var _useState=(0,_react.useState)(source),_useState2=(0,_slicedToArray2.default)(_useState,2),renderedSource=_useState2[0],setSource=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),alternate=_useState4[0],setAlternate=_useState4[1];_react.default.useEffect(function(){setAlternate(false);setSource(source);},[source]);var onImageLoadError=function onImageLoadError(event){console.warn(event.nativeEvent.error);if(!ignoreFallback&&fallbackSource&&fallbackSource!==renderedSource){setSource(fallbackSource);}else{setAlternate(true);}};if(!alt){console.warn('Please pass alt prop to Image component');}if(alternate){return _react.default.createElement(_Text.default,(0,_extends2.default)({},_alt,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:68,columnNumber:12}}),alt);}return _react.default.createElement(StyledImage,(0,_extends2.default)({source:renderedSource,accessibilityLabel:alt,alt:alt},newProps,{onError:props.onError?props.onError:onImageLoadError,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:71,columnNumber:5}}));};var _default=(0,_react.memo)((0,_react.forwardRef)(Image));exports.default=_default;
//# sourceMappingURL=index.js.map