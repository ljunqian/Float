var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _hooks=require("../../../hooks");var _utils=require("../../../utils");var _Box=_interopRequireDefault(require("../../primitives/Box"));var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Skeleton/Skeleton.tsx";var Skeleton=function Skeleton(allProps,ref){var _props$transform;var isDomUsable=(0,_utils.canUseDom)();var variant=allProps.variant,children=allProps.children,props=(0,_objectWithoutProperties2.default)(allProps,["variant","children"]);var newProps=(0,_hooks.useThemeProps)('Skeleton',props);var style=newProps.style,skeletonColor=newProps.skeletonColor,baseColor=newProps.baseColor;var blinkAnim=_react.default.useRef(new _reactNative.Animated.Value(0)).current;_react.default.useEffect(function(){if(isDomUsable){var blink=_reactNative.Animated.sequence([_reactNative.Animated.timing(blinkAnim,{toValue:1,duration:1000,useNativeDriver:_reactNative.Platform.OS!=='web'}),_reactNative.Animated.timing(blinkAnim,{toValue:0,duration:1000,useNativeDriver:_reactNative.Platform.OS!=='web'})]);_reactNative.Animated.loop(blink).start();}},[blinkAnim,isDomUsable]);var skeletonStyle={skeleton:{position:'absolute',top:0,bottom:0,height:'100%',width:'100%',borderRadius:variant==='circle'?999:3,backgroundColor:skeletonColor,opacity:blinkAnim}};return _react.default.createElement(_Box.default,(0,_extends2.default)({style:[style,{transform:((_props$transform=props.transform)!=null?_props$transform:variant==='text')?[{scaleY:0.6}]:undefined}],borderRadius:variant==='circle'?999:3,bg:baseColor},props,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:47,columnNumber:5}}),_react.default.createElement(_reactNative.Animated.View,{style:skeletonStyle.skeleton,__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:7}}),children?_react.default.createElement(_reactNative.View,{style:{opacity:0},__self:_this,__source:{fileName:_jsxFileName,lineNumber:63,columnNumber:19}},children):null);};var _default=_react.default.memo(_react.default.forwardRef(Skeleton));exports.default=_default;
//# sourceMappingURL=Skeleton.js.map