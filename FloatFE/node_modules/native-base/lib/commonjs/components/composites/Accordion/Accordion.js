var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _Box=_interopRequireDefault(require("../../primitives/Box"));var _hooks=require("../../../hooks");var _getIndexedChildren=_interopRequireDefault(require("../../../utils/getIndexedChildren"));var _Context=require("./Context");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Accordion/Accordion.tsx";var Accordion=function Accordion(_ref,ref){var children=_ref.children,pIndex=_ref.index,defaultIndex=_ref.defaultIndex,allowMultiple=_ref.allowMultiple,allowToggle=_ref.allowToggle,onChange=_ref.onChange,props=(0,_objectWithoutProperties2.default)(_ref,["children","index","defaultIndex","allowMultiple","allowToggle","onChange"]);var _useThemeProps=(0,_hooks.useThemeProps)('Accordion',props),endingHeight=_useThemeProps.endingHeight,startingHeight=_useThemeProps.startingHeight,duration=_useThemeProps.duration,isOpen=_useThemeProps.isOpen,onAnimationEnd=_useThemeProps.onAnimationEnd,onAnimationStart=_useThemeProps.onAnimationStart,newProps=(0,_objectWithoutProperties2.default)(_useThemeProps,["endingHeight","startingHeight","duration","isOpen","onAnimationEnd","onAnimationStart"]);var _React$useState=_react.default.useState(pIndex||defaultIndex||[]),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),index=_React$useState2[0],setIndex=_React$useState2[1];var changeHandler=function changeHandler(isOpening,activeIndex){var indexCopy=index.map(function(i){return i;});if(allowToggle){if(isOpening){indexCopy.push(activeIndex);allowMultiple?setIndex(indexCopy):setIndex([activeIndex]);}else{setIndex(index.splice(index.indexOf(activeIndex),1));}}else{if(isOpening){indexCopy.push(activeIndex);allowMultiple?setIndex(indexCopy):setIndex([activeIndex]);}else{indexCopy=indexCopy.filter(function(n){return n!==activeIndex;});setIndex(indexCopy);}}onChange&&onChange(indexCopy);};return _react.default.createElement(_Context.AccordionContext.Provider,{value:{index:index,changeHandler:changeHandler,AnimationProps:{endingHeight:endingHeight,startingHeight:startingHeight,duration:duration,isOpen:isOpen,onAnimationEnd:onAnimationEnd,onAnimationStart:onAnimationStart}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:5}},_react.default.createElement(_Box.default,(0,_extends2.default)({overflow:"hidden"},newProps,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:7}}),(0,_getIndexedChildren.default)(children)));};var _default=_react.default.memo(_react.default.forwardRef(Accordion));exports.default=_default;
//# sourceMappingURL=Accordion.js.map