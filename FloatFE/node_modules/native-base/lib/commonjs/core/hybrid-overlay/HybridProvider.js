var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _Context=require("./Context");var _hooks=require("./../color-mode/hooks");var _hooks2=require("../../hooks");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/core/hybrid-overlay/HybridProvider.tsx";var HybridProvider=function HybridProvider(_ref){var children=_ref.children,_ref$options=_ref.options,_ref$options$initialC=_ref$options.initialColorMode,initialColorMode=_ref$options$initialC===void 0?'light':_ref$options$initialC,_ref$options$accessib=_ref$options.accessibleColors,isTextColorAccessible=_ref$options$accessib===void 0?false:_ref$options$accessib,useSystemColorMode=_ref$options.useSystemColorMode,colorModeManager=_ref.colorModeManager;var _useModeManager=(0,_hooks.useModeManager)(initialColorMode,useSystemColorMode,colorModeManager),colorMode=_useModeManager.colorMode,setColorMode=_useModeManager.setColorMode;var toggleColorMode=_react.default.useCallback(function(){setColorMode(colorMode==='light'?'dark':'light');},[colorMode,setColorMode]);var _React$useState=_react.default.useState(isTextColorAccessible),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),accessibleColors=_React$useState2[0],setAccessibleColors=_React$useState2[1];_react.default.useEffect(function(){var escapeKeyListener=null;if(_reactNative.Platform.OS==='web'){escapeKeyListener=function escapeKeyListener(e){if(e.key==='Escape'){if(_hooks2.keyboardDismissHandlerManager.length()>0){var lastHandler=_hooks2.keyboardDismissHandlerManager.pop();lastHandler();}}};document.addEventListener('keydown',escapeKeyListener);}return function(){if(_reactNative.Platform.OS==='web'){document.removeEventListener('keydown',escapeKeyListener);}};},[]);return _react.default.createElement(_Context.HybridContext.Provider,{value:{colorMode:{colorMode:colorMode,toggleColorMode:toggleColorMode,setColorMode:setColorMode,accessibleColors:accessibleColors,setAccessibleColors:setAccessibleColors}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:5}},children);};var _default=HybridProvider;exports.default=_default;
//# sourceMappingURL=HybridProvider.js.map