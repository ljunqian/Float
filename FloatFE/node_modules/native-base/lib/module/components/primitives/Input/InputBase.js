var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _native=_interopRequireDefault(require("styled-components/native"));var _styledSystem=require("styled-system");var _customProps=require("../../../utils/customProps");var _hooks=require("../../../hooks");var _useThemeProps=require("../../../hooks/useThemeProps");var _interactions=require("@react-native-aria/interactions");var _utils=require("../../../utils");var _useResolvedFontFamily=require("../../../hooks/useResolvedFontFamily");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/primitives/Input/InputBase.tsx";var StyledInput=(0,_native.default)(_reactNative.TextInput)(_styledSystem.flex,_styledSystem.color,_styledSystem.space,_styledSystem.layout,_styledSystem.flexbox,_styledSystem.border,_styledSystem.typography,_customProps.customBorder,_customProps.customBackground,_customProps.customOutline,_customProps.customShadow,_customProps.customExtra,_customProps.customTypography,_customProps.customLayout);var InputBase=function InputBase(_ref2,ref){var _onKeyPress=_ref2.onKeyPress,_onFocus=_ref2.onFocus,_onBlur=_ref2.onBlur,disableFocusHandling=_ref2.disableFocusHandling,inputProps=_ref2.inputProps,wrapperRef=_ref2.wrapperRef,props=(0,_objectWithoutProperties2.default)(_ref2,["onKeyPress","onFocus","onBlur","disableFocusHandling","inputProps","wrapperRef"]);var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),isFocused=_React$useState2[0],setIsFocused=_React$useState2[1];var handleFocus=function handleFocus(focusState,callback){!disableFocusHandling&&setIsFocused(focusState);callback();};var inputThemeProps={isDisabled:inputProps.disabled,isInvalid:inputProps.accessibilityInvalid,isReadOnly:inputProps.accessibilityReadOnly,isRequired:inputProps.required};var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Input',(0,_extends2.default)({},inputThemeProps,props)),isFullWidth=_usePropsResolution.isFullWidth,isDisabled=_usePropsResolution.isDisabled,isInvalid=_usePropsResolution.isInvalid,isReadOnly=_usePropsResolution.isReadOnly,ariaLabel=_usePropsResolution.ariaLabel,accessibilityLabel=_usePropsResolution.accessibilityLabel,placeholderTextColor=_usePropsResolution.placeholderTextColor,selectionColor=_usePropsResolution.selectionColor,underlineColorAndroid=_usePropsResolution.underlineColorAndroid,type=_usePropsResolution.type,_hover=_usePropsResolution._hover,_focus=_usePropsResolution._focus,_disabled=_usePropsResolution._disabled,_invalid=_usePropsResolution._invalid,fontFamily=_usePropsResolution.fontFamily,fontWeight=_usePropsResolution.fontWeight,fontStyle=_usePropsResolution.fontStyle,themedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["isFullWidth","isDisabled","isInvalid","isReadOnly","ariaLabel","accessibilityLabel","placeholderTextColor","selectionColor","underlineColorAndroid","type","_hover","_focus","_disabled","_invalid","fontFamily","fontWeight","fontStyle"]);var _ref=_react.default.useRef(null);var _useHover=(0,_interactions.useHover)({},_ref),isHovered=_useHover.isHovered;var resolvedFontFamily=(0,_useResolvedFontFamily.useResolvedFontFamily)({fontFamily:fontFamily,fontWeight:fontWeight,fontStyle:fontStyle});return _react.default.createElement(StyledInput,(0,_extends2.default)({},inputProps,resolvedFontFamily,{secureTextEntry:type==='password',accessible:true,accessibilityLabel:ariaLabel||accessibilityLabel,editable:isDisabled||isReadOnly?false:true,w:isFullWidth?'100%':undefined},themedProps,isHovered&&_hover,isFocused&&_focus,isDisabled&&_disabled,isInvalid&&_invalid,{placeholderTextColor:(0,_hooks.useToken)('colors',placeholderTextColor),selectionColor:(0,_hooks.useToken)('colors',selectionColor),underlineColorAndroid:(0,_hooks.useToken)('colors',underlineColorAndroid),onKeyPress:function onKeyPress(e){e.persist();_onKeyPress&&_onKeyPress(e);},onFocus:function onFocus(e){handleFocus(true,_onFocus?function(){return _onFocus(e);}:function(){});},onBlur:function onBlur(e){handleFocus(false,_onBlur?function(){return _onBlur(e);}:function(){});}},_reactNative.Platform.OS==='web'?{disabled:isDisabled,cursor:isDisabled?'not-allowed':'auto'}:{},{ref:(0,_utils.mergeRefs)([ref,_ref,wrapperRef]),__self:_this,__source:{fileName:_jsxFileName,lineNumber:108,columnNumber:5}}));};var _default=(0,_react.memo)((0,_react.forwardRef)(InputBase));exports.default=_default;
//# sourceMappingURL=InputBase.js.map