var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.PopoverContent=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _hooks=require("../../../hooks");var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _Popper=require("../Popper");var _PopoverContext=require("./PopoverContext");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Popover/PopoverContent.tsx";var PopoverContent=_react.default.forwardRef(function(props,ref){var _ref,_ref2,_props$bgColor;var _React$useContext=_react.default.useContext(_PopoverContext.PopoverContext),onClose=_React$useContext.onClose,initialFocusRef=_React$useContext.initialFocusRef,finalFocusRef=_React$useContext.finalFocusRef,popoverContentId=_React$useContext.popoverContentId,headerMounted=_React$useContext.headerMounted,bodyMounted=_React$useContext.bodyMounted,bodyId=_React$useContext.bodyId,headerId=_React$useContext.headerId;var newProps=(0,_hooks.usePropsResolution)('PopoverContent',props);var arrowDefaultColor=(_ref=(_ref2=(_props$bgColor=props.bgColor)!=null?_props$bgColor:props.bg)!=null?_ref2:props.backgroundColor)!=null?_ref:newProps.backgroundColor;var color=(0,_hooks.useToken)('colors',arrowDefaultColor);_react.default.useEffect(function(){var finalFocusRefCurrentVal=finalFocusRef==null?void 0:finalFocusRef.current;if(initialFocusRef&&initialFocusRef.current){initialFocusRef.current.focus();}return function(){if(finalFocusRefCurrentVal){finalFocusRefCurrentVal.focus();}};},[finalFocusRef,initialFocusRef]);(0,_hooks.useKeyboardDismissable)({enabled:true,callback:onClose});var arrowElement=null;var restChildren=[];_react.default.Children.forEach(props.children,function(child){if(child.type.displayName==='PopperArrow'){var _child$props$color;arrowElement=_react.default.cloneElement(child,{backgroundColor:(_child$props$color=child.props.color)!=null?_child$props$color:color});}else{restChildren.push(child);}});var accessibilityProps=_reactNative.Platform.OS==='web'?{'accessibilityRole':'dialog','aria-labelledby':headerMounted?headerId:undefined,'aria-describedby':bodyMounted?bodyId:undefined}:{};return _react.default.createElement(_Popper.Popper.Content,(0,_extends2.default)({nativeID:popoverContentId},accessibilityProps,newProps,props,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:7}}),arrowElement,restChildren);});exports.PopoverContent=PopoverContent;PopoverContent.displayName='PopoverContent';
//# sourceMappingURL=PopoverContent.js.map