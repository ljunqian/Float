var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _Box=_interopRequireDefault(require("../../primitives/Box"));var _lodash=_interopRequireDefault(require("lodash.isnil"));var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/AspectRatio/index.tsx";var AspectView=_react.default.forwardRef(function(props,ref){var _React$useState=_react.default.useState(),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),layout=_React$useState2[0],setLayout=_React$useState2[1];var inputStyle=[_reactNative.StyleSheet.flatten(props.style)||{}];if(layout){var _layout$width=layout.width,width=_layout$width===void 0?0:_layout$width,_layout$height=layout.height,height=_layout$height===void 0?0:_layout$height;if(width===0){inputStyle.push({width:height*props.aspectRatio,height:height});}else{inputStyle.push({width:width,height:width/props.aspectRatio});}}return _react.default.createElement(_Box.default,(0,_extends2.default)({},props,{ref:ref,style:inputStyle,onLayout:function onLayout(_ref){var inLayout=_ref.nativeEvent.layout;return setLayout(inLayout);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:25,columnNumber:5}}));});var AspectRatio=function AspectRatio(_ref2,ref){var style=_ref2.style,ratio=_ref2.ratio,children=_ref2.children,props=(0,_objectWithoutProperties2.default)(_ref2,["style","ratio","children"]);var computedStyle=style;var newChildWithProps=_react.default.cloneElement(children,(0,_extends2.default)({},children.props,{style:_reactNative.StyleSheet.absoluteFillObject}),children.props.children);var aspectRatio=!(0,_lodash.default)(ratio)?ratio:4/3;if(_reactNative.Platform.OS==='web'){return _react.default.createElement(AspectView,(0,_extends2.default)({},props,{aspectRatio:aspectRatio,style:style,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:54,columnNumber:7}}),newChildWithProps);}else{computedStyle=_reactNative.StyleSheet.flatten([style,{aspectRatio:aspectRatio}]);return _react.default.createElement(_Box.default,(0,_extends2.default)({},props,{style:computedStyle,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:61,columnNumber:7}}),newChildWithProps);}};var _default=_react.default.memo(_react.default.forwardRef(AspectRatio));exports.default=_default;
//# sourceMappingURL=index.js.map