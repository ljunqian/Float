{"version":3,"sources":["PresenceTransition.tsx"],"names":["PresenceTransition","ref","visible","onTransitionComplete","rest","React","useState","animationExited","setAnimationExited","useContext","ExitAnimationContext","setExited","state"],"mappings":"ohBAAA,qDACA,mFACA,wC,wIAGA,GAAMA,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAEzBC,GAFyB,CAGtB,uBAFDC,OAEC,CAFDA,OAEC,uBAFS,KAET,cAFgBC,qBAEhB,MAFgBA,oBAEhB,CAFyCC,IAEzC,oGAC2CC,eAAMC,QAAN,CAAe,CAACJ,OAAhB,CAD3C,iEACIK,eADJ,qBACqBC,kBADrB,2CAGmBH,eAAMI,UAAN,CAAiBC,0CAAjB,CAHnB,CAGKC,SAHL,mBAGKA,SAHL,CAKH,GAAI,CAACT,OAAD,EAAYK,eAAhB,CAAiC,CAC/B,MAAO,KAAP,CACD,CAED,MACE,8BAAC,sBAAD,wBACE,OAAO,CAAEL,OADX,CAEE,oBAAoB,CAAE,8BAACU,KAAD,CAAW,CAC/B,GAAIA,KAAK,GAAK,QAAd,CAAwB,CACtBJ,kBAAkB,CAAC,IAAD,CAAlB,CACAG,SAAS,CAAC,IAAD,CAAT,CACD,CAHD,IAGO,CACLH,kBAAkB,CAAC,KAAD,CAAlB,CACAG,SAAS,CAAC,KAAD,CAAT,CACD,CACDR,qBAAoB,EAAIA,qBAAoB,CAACS,KAAD,CAA5C,CACD,CAXH,EAYMR,IAZN,EAaE,GAAG,CAAEH,GAbP,8EADF,CAiBD,CA7BD,C,aA+Be,gBAAK,sBAAWD,kBAAX,CAAL,C","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { ExitAnimationContext } from '../../primitives/Overlay/ExitAnimationContext';\nimport { Transition } from './Transition';\nimport type { IPresenceTransitionProps } from './types';\n\nconst PresenceTransition = (\n  { visible = false, onTransitionComplete, ...rest }: IPresenceTransitionProps,\n  ref: any\n) => {\n  const [animationExited, setAnimationExited] = React.useState(!visible);\n\n  const { setExited } = React.useContext(ExitAnimationContext);\n\n  if (!visible && animationExited) {\n    return null;\n  }\n\n  return (\n    <Transition\n      visible={visible}\n      onTransitionComplete={(state) => {\n        if (state === 'exited') {\n          setAnimationExited(true);\n          setExited(true);\n        } else {\n          setAnimationExited(false);\n          setExited(false);\n        }\n        onTransitionComplete && onTransitionComplete(state);\n      }}\n      {...rest}\n      ref={ref}\n    />\n  );\n};\n\nexport default memo(forwardRef(PresenceTransition));\n"]}