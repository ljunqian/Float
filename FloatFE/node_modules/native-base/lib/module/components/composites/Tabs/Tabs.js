var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _Box=_interopRequireDefault(require("../../primitives/Box"));var _hooks=require("../../../hooks");var _Context=require("./Context");var _collections=require("@react-stately/collections");var _tabs=require("@react-stately/tabs");var _TabViews=_interopRequireDefault(require("./TabViews"));var _TabBar=_interopRequireDefault(require("./TabBar"));var _tabs2=require("@react-native-aria/tabs");var _utils=require("../../../utils");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Tabs/Tabs.tsx";var getTabsAndBars=function getTabsAndBars(children){var bars=[];var views=[];var items=_react.default.Children.toArray(children);var tabBarProps={props:{},ref:undefined};var tabViewsProps={props:{},ref:undefined};items.forEach(function(item){if(item.type){if(item.type.displayName==='TabBar'){bars=bars.concat(item.props.children);tabBarProps={props:item.props,ref:item.ref};}else if(item.type.displayName==='TabViews'){views=views.concat(item.props.children);tabViewsProps={props:item.props,ref:item.ref};}}});return{views:views,bars:bars,tabViewsProps:tabViewsProps,tabBarProps:tabBarProps};};var convertToCollectionItems=function convertToCollectionItems(children){var _getTabsAndBars=getTabsAndBars(children),views=_getTabsAndBars.views,bars=_getTabsAndBars.bars;return bars.map(function(bar,index){var textValue;if(bar.props.accessibilityLabel){textValue=bar.props.accessibilityLabel;}else if(typeof bar.props.children==='string'){textValue=bar.props.children;}else if(__DEV__){console.warn('Please pass accessibilityLabel into Tabs.Tab component');}return _react.default.createElement(_collections.Item,{key:index,title:bar,textValue:textValue,__self:_this,__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:7}},views[index]);});};var Tabs=function Tabs(_ref,ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,["children"]);var _useThemeProps=(0,_hooks.useThemeProps)('Tabs',props),onChange=_useThemeProps.onChange,activeTabStyle=_useThemeProps.activeTabStyle,inactiveTabStyle=_useThemeProps.inactiveTabStyle,activeIconProps=_useThemeProps.activeIconProps,inactiveIconProps=_useThemeProps.inactiveIconProps,tabBarStyle=_useThemeProps.tabBarStyle,isFitted=_useThemeProps.isFitted,align=_useThemeProps.align,newProps=(0,_objectWithoutProperties2.default)(_useThemeProps,["onChange","activeTabStyle","inactiveTabStyle","activeIconProps","inactiveIconProps","tabBarStyle","isFitted","align"]);var collectionChildren=convertToCollectionItems(children);var _getTabsAndBars2=getTabsAndBars(children),tabBarProps=_getTabsAndBars2.tabBarProps,tabViewsProps=_getTabsAndBars2.tabViewsProps;var mappedProps={children:collectionChildren,defaultSelectedKey:props.defaultIndex!==undefined?props.defaultIndex.toString():undefined,selectedKey:props.index!==undefined?props.index.toString():undefined,onSelectionChange:function onSelectionChange(e){return onChange&&onChange(parseInt(e));},keyboardActivation:props.keyboardActivation};var state=(0,_tabs.useTabsState)(mappedProps);var setAlign=function setAlign(){switch(align){case'start':return'flex-start';case'end':return'flex-end';case'center':return'center';default:return'flex-start';}};var tablistRef=_react.default.useRef();var _useTabs=(0,_tabs2.useTabs)(mappedProps,state,tablistRef),tabListProps=_useTabs.tabListProps,tabPanelProps=_useTabs.tabPanelProps;return _react.default.createElement(_Context.TabsContext.Provider,{value:{activeTabStyle:activeTabStyle,inactiveTabStyle:inactiveTabStyle,activeIconProps:activeIconProps,inactiveIconProps:inactiveIconProps,tabBarStyle:tabBarStyle,isFitted:isFitted,align:setAlign(),state:state},__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:5}},_react.default.createElement(_Box.default,(0,_extends2.default)({width:"100%"},newProps,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:103,columnNumber:7}}),_react.default.createElement(_TabBar.default,(0,_extends2.default)({tabListProps:tabListProps},tabBarProps.props,{tablistRef:(0,_utils.mergeRefs)([tablistRef,tabBarProps.ref]),__self:_this,__source:{fileName:_jsxFileName,lineNumber:104,columnNumber:9}})),_react.default.createElement(_TabViews.default,(0,_extends2.default)({},tabPanelProps,tabViewsProps.props,{ref:tabViewsProps.ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:109,columnNumber:9}}),state.selectedItem&&state.selectedItem.props.children)));};var _default=_react.default.memo(_react.default.forwardRef(Tabs));exports.default=_default;
//# sourceMappingURL=Tabs.js.map