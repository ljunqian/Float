var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.TabContext=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _Pressable=require("../../primitives/Pressable");var _Box=_interopRequireDefault(require("../../primitives/Box"));var _Context=require("./Context");var _utils=require("../../../theme/tools/utils");var _tabs=require("@react-native-aria/tabs");var _interactions=require("@react-native-aria/interactions");var _utils2=require("../../../utils");var _lodash=_interopRequireDefault(require("lodash.merge"));var _theme=require("../../../theme");var _this=this,_jsxFileName="/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Tabs/Tab.tsx";var TabContext=(0,_react.createContext)({});exports.TabContext=TabContext;var Tab=function Tab(_ref2,ref){var children=_ref2.children,isDisabled=_ref2.isDisabled,style=_ref2.style,_active=_ref2._active,_disabled=_ref2._disabled,item=_ref2.item,props=(0,_objectWithoutProperties2.default)(_ref2,["children","isDisabled","style","_active","_disabled","item"]);var newProps=(0,_utils.omitUndefined)(props);var _React$useContext=_react.default.useContext(_Context.TabsContext),inactiveTabStyle=_React$useContext.inactiveTabStyle,activeTabStyle=_React$useContext.activeTabStyle,state=_React$useContext.state,isFitted=_React$useContext.isFitted;var tabRef=_react.default.useRef(null);var _ref=_react.default.useRef(null);var _useHover=(0,_interactions.useHover)({},_ref),isHovered=_useHover.isHovered;var isSelected=state.selectedKey===item.key;var _useTab=(0,_tabs.useTab)({item:item,isDisabled:isDisabled},state,tabRef),tabProps=_useTab.tabProps;_react.default.useEffect(function(){if(isDisabled){state.disabledKeys.add(item.key);}else{state.disabledKeys.delete(item.key);}},[isDisabled,item.key,state.disabledKeys]);var tabStyle=isSelected?activeTabStyle:inactiveTabStyle;var _hover=tabStyle._hover,remainingTabStyle=(0,_objectWithoutProperties2.default)(tabStyle,["_hover"]);var mergedProps=(0,_lodash.default)(remainingTabStyle,newProps);var _themeTools$extractIn=_theme.themeTools.extractInObject(mergedProps,['margin','m','marginTop','mt','marginRight','mr','marginBottom','mb','marginLeft','ml','marginX','mx','marginY','my']),_themeTools$extractIn2=(0,_slicedToArray2.default)(_themeTools$extractIn,2),marginalProps=_themeTools$extractIn2[0],remainingProps=_themeTools$extractIn2[1];return _react.default.createElement(TabContext.Provider,{value:{isSelected:isSelected},__self:_this,__source:{fileName:_jsxFileName,lineNumber:72,columnNumber:5}},_react.default.createElement(_Pressable.Pressable,(0,_extends2.default)({disabled:isDisabled,ref:(0,_utils2.mergeRefs)([tabRef,_ref,ref]),flex:isFitted?1:undefined},tabProps,marginalProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:77,columnNumber:7}}),_react.default.createElement(_Box.default,(0,_extends2.default)({},remainingProps,isHovered&&_hover,{style:[style,isSelected&&_active,isDisabled&&_disabled],__self:_this,__source:{fileName:_jsxFileName,lineNumber:84,columnNumber:9}}),children)));};var _default=_react.default.memo(_react.default.forwardRef(Tab));exports.default=_default;
//# sourceMappingURL=Tab.js.map